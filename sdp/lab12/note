DWORD buf[BUFLEN];
while(buf[i]!='\r')
----->not ok,cz buf is integer value,(in exam don't waste time in this,just read from a file)

//scanf always expect \n,so enter after every number
_tscanf(_T("%d"),&buf[i]);//don't forget &!!!!!!
before record,for every scanf also enters enter

they can't have same semaphore for four threads,cz one thread can repeat several times
